<div ng-show="!vm.ready" class="loading text-center">
	<img src="/public/img/layout/loading.gif" class="loadingImg" alt="loading..." />
</div>
<div growl></div>
<div class="row" ng-show="vm.ready">
	<div class="col-sm-1 text-center">
		<button type="button" class="btn" 
			ng-class="{ 'btn-default': !vm.registryService.isFilterSet|| vm.isFilterLoading, 
					    'btn-success': vm.registryService.isFilterSet && !vm.isFilterLoading }"
			ng-click="vm.isFilterCollapsed = !vm.isFilterCollapsed">FILTER</button>
	</div>
	<div class="col-sm-5">
		<h2 style="display: inline;"><small>1. USE FILTERS ON RESOURCES</small></h2>
		<button class="glyphicon glyphicon-info-sign" 
			tooltip-html-unsafe="{{ vm.filterTooltip }}"  
			tooltip-trigger="focus" 
			tooltip-placement="right" 
			style="font-size: 25px; margin-left: 5px; border: none; background: none;"></button>
		<span ng-show="vm.isFilterLoading"
			class="glyphicon glyphicon-cog glyphicon-rotate">
		</span>
		<button type="button" class="btn btn-danger" style="vertical-align: top;"
			ng-click="vm.resetFilter()" 
			ng-hide="!vm.registryService.isFilterSet || vm.isFilterLoading">RESET</button>
	</div>
	<div class="col-sm-4">&nbsp;</div>
	<div class="col-sm-2 text-center">
		<button type="button" class="btn btn-default"
			ng-click="vm.notImplemented()">INIT SAMP</button>
	</div>
</div>
<div class="row" ng-show="vm.ready">
	<div class="col-sm-1 text-center">
		<span class="glyphicon glyphicon-arrow-down" style="font-size: 20px;"></span>
	</div>
	<div class="col-sm-9">&nbsp;</div>
	<div class="col-sm-2 text-center">
		<span class="glyphicon glyphicon-arrow-down" style="font-size: 20px;"></span>
	</div>
</div>
<div class="row" ng-show="vm.ready">
	<div class="col-sm-4" collapse="vm.isFilterCollapsed">
		<div class="well well-lg" style="margin-top: 5px; margin-bottom: 5px;">
			<div class="btn-group-vertical ">
				<button type="button" class="btn btn-default btn-sm" style="width: 120px; vertical-align: top;"
					ng-repeat="region in vm.configService.filterRegions"
					ng-click="vm.selectFilter(region)"
					ng-class="{ active: vm.selectedFilter[region], 'btn-success': vm.selectedFilter[region] }">
					{{ region }}
				</button>
			</div>
			<div class="btn-group-vertical" ng-hide="vm.selectedFilter |Â isEmpty"
				style="margin-left: 10%; width: 120px; vertical-align: top;">
				<button type="button" class="btn btn-primary btn-sm"
					ng-click="vm.requestFilter()">OK</button>
				<button type="button" class="btn btn-danger btn-sm"
					ng-click="vm.resetFilter()">RESET</button>
			</div>
		</div>
	</div>
</div>
<div class="row" ng-show="vm.ready">
	<div class="col-sm-6">
		<h2 style="margin-top: 10px; display: inline-block;">Databases <small>2. SELECT A RESOURCE</small></h2>
		<button class="glyphicon glyphicon-info-sign" 
			tooltip-html-unsafe="{{ vm.databasesTooltip }}"  
			tooltip-trigger="focus" 
			tooltip-placement="bottom" 
			style="font-size: 25px; margin-left: 5px; border: none; background: none;"></button>
	</div>
	<div class="col-sm-6 text-right">
		<h2 style="margin-top: 10px; display: inline-block;">Tools <small>4. VISUALISE A RESOURCE</small></h2>
		<button class="glyphicon glyphicon-info-sign" 
			tooltip-html-unsafe="{{ vm.toolsTooltip }}"  
			tooltip-trigger="focus" 
			tooltip-placement="left" 
			style="font-size: 25px; margin-left: 5px; border: none; background: none;"></button>
	</div>
</div>
<div class="row" ng-show="vm.ready">
	<div class="col-sm-2">&nbsp;</div>
	<div class="col-sm-2 text-center" 
		ng-repeat="database in vm.configService.config.databases" 
		ng-if="(database.type == 'simulation') && !(database.tree | isEmpty)">
		<div ng-show="vm.ready">
			<button type="button" class="btn btn-primary btn-map" 
				ui-sref="app.portal.registry({id:database.id})" 
				tooltip="Show registry of {{ database.name }}"
				ng-disabled="(vm.configService.aliveMap[database.id] == false) || 
					(vm.configService.filterMap[database.id] == false)">
				<span class="pull-left">{{ database.name }}</span><br/>
				<img src="public/img/layout/database.png"/><br/>
				<span class="pull-right">Simulations</span>
			</button>
    	</div>
	</div>
	<div class="col-sm-2 text-center">
		<a class="btn btn-danger btn-map"
			ng-href="{{ vm.configService.config.tools[0].url }}" target="_blank"
			tooltip="Open {{ vm.configService.config.tools[0].name }} tool">
			<br/>
			<img src="public/img/layout/tool.png"/><br/>
			<span class="pull-right" style="margin-top: 7px;">
				{{ vm.configService.config.tools[0].name }}
			</span>
		</a>
	</div>
</div>
<div class="row" ng-show="vm.ready" style="height: 30px;">
	<div class="col-sm-12">
		<button class="glyphicon glyphicon-info-sign" 
			tooltip-html-unsafe="{{ vm.myDataTooltip }}"  
			tooltip-trigger="focus" 
			tooltip-placement="right"
			style="font-size: 25px; margin-left: 5px; border: none; background: none;"></button>
	</div>
</div>
<div class="row" ng-show="vm.ready">
	<div class="col-sm-2 text-center">
		<button type="button" class="btn btn-warning btn-map"
			ui-sref="app.portal.userdata()" 
			tooltip="Show saved Userdata"
			tooltip-placement="right">
			<span ng-show="vm.methodsService.unreadResults > 0" class="badge pull-left" style="font-size: 14px;">
				{{ vm.methodsService.unreadResults }}
			</span>
			<br/>
			<img src="public/img/layout/userdata.png"/><br/>
			<span class="pull-right">My Data</span>
		</button>
	</div>
	<div class="col-sm-2 col-sm-offset-8 text-center">
		<a class="btn btn-danger btn-map"
			ng-href="{{ vm.configService.config.tools[1].url }}" target="_blank"
			tooltip="Open {{ vm.configService.config.tools[1].name }} tool"
			tooltip-placement="left">
			<br/>
			<img src="public/img/layout/tool.png"/><br/>
			<span class="pull-right" style="margin-top: 7px;">
				{{ vm.configService.config.tools[1].name }}
			</span>
		</a>
	</div>
</div>
<div class="row" ng-show="vm.ready" style="height: 30px;">
	<div class="col-sm-12">&nbsp;</div>
</div>
<div class="row" ng-show="vm.ready">
	<div class="col-sm-2">&nbsp;</div>
	<div class="col-sm-2 text-center" 
		ng-repeat="database in vm.configService.config.databases" 
		ng-if="(database.type == 'simulation') && !(database.methods | isEmpty)">
		<div ng-show="vm.ready">
			<button type="button" class="btn btn-success btn-map"
				ui-sref="app.portal.methods({id:database.id})" 
				tooltip="Show methods of {{ database.name }}"
				tooltip-placement="top"
				ng-disabled="(vm.configService.aliveMap[database.id] == false) || 
					(vm.configService.filterMap[database.id] == false)">
				<span class="pull-left">{{ database.name }}</span>
				<span ng-show="vm.methodsService.loading[database.id]"
					class="pull-right glyphicon glyphicon-cog glyphicon-rotate">
				</span>
				<span ng-show="!vm.methodsService.loading[database.id] && 
					vm.methodsService.showSuccess[database.id]"
					class="pull-right glyphicon glyphicon-ok-sign glyphicon-static">
				</span>
				<span ng-show="!vm.methodsService.loading[database.id] && 
					vm.methodsService.showError[database.id]"
					class="pull-right glyphicon glyphicon-ban-circle glyphicon-static">
				</span>
				<br/>
				<img src="public/img/layout/service.png"/><br/>
				<span class="pull-right">Data Access</span>
			</button>
    	</div>
	</div>
	<div class="col-sm-2 text-center">
		<a class="btn btn-danger btn-map" 
			ng-href="{{ vm.configService.config.tools[2].url }}" target="_blank"
			tooltip="Open {{ vm.configService.config.tools[2].name }} tool"
			tooltip-placement="top">
			<br/>
			<img src="public/img/layout/tool.png"/><br/>
			<span class="pull-right" style="margin-top: 7px;">
				{{ vm.configService.config.tools[2].name }}
			</span>
		</a>
	</div>
</div>
<div class="row" ng-show="vm.ready">
	<div class="col-sm-6">
		<h2 style="margin-top: 10px; display: inline-block;">Services <small>3. ACCESS A RESOURCE</small></h2>
		<button class="glyphicon glyphicon-info-sign" 
			tooltip-html-unsafe="{{ vm.servicesTooltip }}"  
			tooltip-trigger="focus" 
			tooltip-placement="top" 
			style="font-size: 25px; margin-left: 5px; border: none; background: none;"></button>
	</div>
</div>
